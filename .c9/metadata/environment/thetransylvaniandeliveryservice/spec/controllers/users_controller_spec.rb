{"filter":false,"title":"users_controller_spec.rb","tooltip":"/thetransylvaniandeliveryservice/spec/controllers/users_controller_spec.rb","undoManager":{"mark":24,"position":24,"stack":[[{"start":{"row":0,"column":0},"end":{"row":40,"column":5},"action":"insert","lines":["require 'rails_helper'","","describe UsersController, type: :controller do","","  before do","    @user = FactoryBot.create(:user)","  end","","  context 'POST #create' do","    before do","      sign_in @user","    end","    it 'successfully creates a new user' do","      expect(response).to have_http_status(200)","    end","  end","  ","  context 'when a user is logged in' do","    before do","      sign_in @user","    end","","    it 'loads correct user details' do","      get :show, params: {id: @user.id}","      expect(assigns(:user)).to eq @user","    end","","    it 'cannot access another user show page' do","      get :show, params: {id: @user2.id}","      expect(response).to have_http_status(302)","      expect(response).to redirect_to(root_path)","    end","  end","","     context 'when a user is not logged in' do","       it 'redirects to login' do","         get :show, params: { id: user.id }","         expect(response).to redirect_to(new_user_session_path)","       end","     end","  end"],"id":1}],[{"start":{"row":17,"column":39},"end":{"row":18,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":18,"column":0},"end":{"row":18,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":18,"column":6},"end":{"row":18,"column":7},"action":"insert","lines":["l"],"id":3},{"start":{"row":18,"column":7},"end":{"row":18,"column":8},"action":"insert","lines":["e"]},{"start":{"row":18,"column":8},"end":{"row":18,"column":9},"action":"insert","lines":["t"]}],[{"start":{"row":18,"column":9},"end":{"row":18,"column":10},"action":"insert","lines":[" "],"id":4}],[{"start":{"row":18,"column":10},"end":{"row":18,"column":11},"action":"insert","lines":["{"],"id":5}],[{"start":{"row":18,"column":11},"end":{"row":18,"column":13},"action":"insert","lines":["[]"],"id":6}],[{"start":{"row":18,"column":12},"end":{"row":18,"column":13},"action":"remove","lines":["]"],"id":7},{"start":{"row":18,"column":11},"end":{"row":18,"column":12},"action":"remove","lines":["["]},{"start":{"row":18,"column":10},"end":{"row":18,"column":11},"action":"remove","lines":["{"]}],[{"start":{"row":18,"column":10},"end":{"row":18,"column":12},"action":"insert","lines":["()"],"id":8}],[{"start":{"row":18,"column":9},"end":{"row":18,"column":10},"action":"remove","lines":[" "],"id":9}],[{"start":{"row":18,"column":10},"end":{"row":18,"column":11},"action":"insert","lines":[":"],"id":10}],[{"start":{"row":18,"column":11},"end":{"row":18,"column":12},"action":"insert","lines":["u"],"id":11},{"start":{"row":18,"column":12},"end":{"row":18,"column":13},"action":"insert","lines":["s"]},{"start":{"row":18,"column":13},"end":{"row":18,"column":14},"action":"insert","lines":["e"]},{"start":{"row":18,"column":14},"end":{"row":18,"column":15},"action":"insert","lines":["r"]},{"start":{"row":18,"column":15},"end":{"row":18,"column":16},"action":"insert","lines":["2"]}],[{"start":{"row":18,"column":17},"end":{"row":18,"column":18},"action":"insert","lines":["{"],"id":12}],[{"start":{"row":18,"column":17},"end":{"row":18,"column":18},"action":"insert","lines":[" "],"id":13}],[{"start":{"row":18,"column":19},"end":{"row":18,"column":20},"action":"insert","lines":[" "],"id":14}],[{"start":{"row":18,"column":20},"end":{"row":18,"column":44},"action":"insert","lines":["FactoryBot.create(:user)"],"id":15}],[{"start":{"row":18,"column":44},"end":{"row":18,"column":45},"action":"insert","lines":[" "],"id":16},{"start":{"row":18,"column":45},"end":{"row":18,"column":46},"action":"insert","lines":["}"]}],[{"start":{"row":29,"column":30},"end":{"row":29,"column":31},"action":"remove","lines":["@"],"id":17}],[{"start":{"row":18,"column":5},"end":{"row":18,"column":6},"action":"remove","lines":[" "],"id":18},{"start":{"row":18,"column":4},"end":{"row":18,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":19,"column":4},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":19},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":38,"column":34},"end":{"row":38,"column":35},"action":"insert","lines":["@"],"id":20}],[{"start":{"row":39,"column":42},"end":{"row":39,"column":58},"action":"remove","lines":["ew_user_session_"],"id":21},{"start":{"row":39,"column":42},"end":{"row":39,"column":43},"action":"insert","lines":["r"]}],[{"start":{"row":39,"column":42},"end":{"row":39,"column":43},"action":"remove","lines":["r"],"id":22},{"start":{"row":39,"column":41},"end":{"row":39,"column":42},"action":"remove","lines":["n"]}],[{"start":{"row":39,"column":41},"end":{"row":39,"column":42},"action":"insert","lines":["r"],"id":23},{"start":{"row":39,"column":42},"end":{"row":39,"column":43},"action":"insert","lines":["o"]},{"start":{"row":39,"column":43},"end":{"row":39,"column":44},"action":"insert","lines":["o"]},{"start":{"row":39,"column":44},"end":{"row":39,"column":45},"action":"insert","lines":["t"]},{"start":{"row":39,"column":45},"end":{"row":39,"column":46},"action":"insert","lines":["+"]}],[{"start":{"row":39,"column":45},"end":{"row":39,"column":46},"action":"remove","lines":["+"],"id":24}],[{"start":{"row":39,"column":45},"end":{"row":39,"column":46},"action":"insert","lines":["_"],"id":25}]]},"ace":{"folds":[],"scrolltop":24,"scrollleft":0,"selection":{"start":{"row":42,"column":5},"end":{"row":42,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":0,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1538076720587,"hash":"31616e476dc1913a319869f563ea28ca5766d7fb"}